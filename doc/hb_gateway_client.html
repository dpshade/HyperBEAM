<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.35.1">
    <meta name="project" content="hb v0.0.1">


    <title>hb_gateway_client â€” hb v0.0.1</title>
    <link rel="stylesheet" href="dist/html-erlang-4IXSOGMD.css" />


    <script src="dist/handlebars.runtime-NWIB6V2M.js"></script>
    <script src="dist/handlebars.templates-K7URE6B4.js"></script>
    <script src="dist/sidebar_items-BF2C6ECE.js"></script>
    <script src="docs_config.js"></script>
    <script async src="dist/html-PVRIOB7F.js"></script>

  </head>
  <body data-type="modules" class="page-module">
    <script>

      try {
        var settings = JSON.parse(localStorage.getItem('ex_doc:settings') || '{}');

        if (settings.theme === 'dark' ||
           ((settings.theme === 'system' || settings.theme == null) &&
             window.matchMedia('(prefers-color-scheme: dark)').matches)
           ) {
          document.body.classList.add('dark')
        }
      } catch (error) { }
    </script>

<div class="body-wrapper">

<button id="sidebar-menu" class="sidebar-button sidebar-toggle" aria-label="toggle sidebar" aria-controls="sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<nav id="sidebar" class="sidebar">

  <div class="sidebar-header">
    <div class="sidebar-projectInfo">

      <div>
        <a href="readme.html" class="sidebar-projectName" translate="no">
hb
        </a>
        <div class="sidebar-projectVersion" translate="no">
          v0.0.1
        </div>
      </div>
    </div>
    <ul id="sidebar-listNav" class="sidebar-listNav" role="tablist">
      <li>
        <button id="extras-list-tab-button" role="tab" data-type="extras" aria-controls="extras-tab-panel" aria-selected="true" tabindex="0">
Pages
        </button>
      </li>

        <li>
          <button id="modules-list-tab-button" role="tab" data-type="modules" aria-controls="modules-tab-panel" aria-selected="false" tabindex="-1">
            Modules
          </button>
        </li>


    </ul>
  </div>

  <div id="extras-tab-panel" class="sidebar-tabpanel" role="tabpanel" aria-labelledby="extras-list-tab-button">
    <ul id="extras-full-list" class="full-list"></ul>
  </div>

    <div id="modules-tab-panel" class="sidebar-tabpanel" role="tabpanel" aria-labelledby="modules-list-tab-button" hidden>
      <ul id="modules-full-list" class="full-list"></ul>
    </div>


</nav>

<main class="content">
  <output role="status" id="toast"></output>

  <div id="content" class="content-inner">
    <div class="top-search">
      <div class="search-settings">
        <form class="search-bar" action="search.html">
          <label class="search-label">
            <span class="sr-only">Search documentation of hb</span>
            <input name="q" type="text" class="search-input" placeholder="Press / to search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
          </label>
          <button type="submit" class="search-button" aria-label="Submit Search">
            <i class="ri-search-2-line ri-lg" aria-hidden="true" title="Submit search"></i>
          </button>
          <button type="button" tabindex="-1" class="search-close-button" aria-hidden="true">
            <i class="ri-close-line ri-lg" title="Cancel search"></i>
          </button>
        </form>
        <div class="autocomplete">
        </div>
        <button class="icon-settings display-settings">
          <i class="ri-settings-3-line"></i>
          <span class="sr-only">Settings</span>
        </button>
      </div>
    </div>

<div id="top-content">
  <h1>

      <a href="https://github.com/permaweb/HyperBEAM/blob/v0.0.1/src/hb_gateway_client.erl#L1" title="View Source" class="icon-action" rel="help">
        <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        <span class="sr-only">View Source</span>
      </a>

    <span translate="no">hb_gateway_client</span> 
    <small class="app-vsn" translate="no">(hb v0.0.1)</small>

  </h1>


    <section id="moduledoc">
<p>Implementation of Arweave's GraphQL API to gain access to specific 
items of data stored on the network.</p><p>This module must be used to get full HyperBEAM <code class="inline">structured@1.0</code> form messages
from data items stored on the network, as Arweave gateways do not presently
expose all necessary fields to retrieve this information outside of the
GraphQL API. When gateways integrate serving in <code class="inline">httpsig@1.0</code> form, this
module will be deprecated.</p>
    </section>

</div>

  <section id="summary" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#summary">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Summary</span>
    </h1>
<div class="summary-functions summary">
  <h2>
    <a href="#functions">Functions</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#ans104_no_data_item_test/0" data-no-tooltip translate="no">ans104_no_data_item_test()</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#data/2" data-no-tooltip translate="no">data(ID, Opts)</a>

      </div>

        <div class="summary-synopsis"><p>Get the data associated with a transaction by its ID, using the node's
Arweave <code class="inline">gateway</code> peers. The item is expected to be available in its 
unmodified (by caches or other proxies) form at the following location</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#read/2" data-no-tooltip translate="no">read(ID, Opts)</a>

      </div>

        <div class="summary-synopsis"><p>Get a data item (including data and tags) by its ID, using the node's
GraphQL peers.
It uses the following GraphQL schema:
type Transaction {
  id: ID!
  anchor: String!
  signature: String!
  recipient: String!
  owner: Owner { address: String! key: String! }!
  fee: Amount!
  quantity: Amount!
  data: MetaData!
  tags: [Tag { name: String! value: String! }!]!
}
type Amount {
  winston: String!
  ar: String!
}</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#result_to_message/2" data-no-tooltip translate="no">result_to_message(Item, Opts)</a>

      </div>

        <div class="summary-synopsis"><p>Takes a GraphQL item node, matches it with the appropriate data from a
gateway, then returns `{ok, ParsedMsg}'.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#scheduler_location/2" data-no-tooltip translate="no">scheduler_location(Address, Opts)</a>

      </div>

        <div class="summary-synopsis"><p>Find the location of the scheduler based on its ID, through GraphQL.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#scheduler_location_test/0" data-no-tooltip translate="no">scheduler_location_test()</a>

      </div>

        <div class="summary-synopsis"><p>Test that we can get the scheduler location.</p></div>

    </div>

</div>

  </section>


  <section id="functions" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#functions">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Functions</span>
    </h1>
    <div class="functions-list">
<section class="detail" id="ans104_no_data_item_test/0">

  <div class="detail-header">
    <a href="#ans104_no_data_item_test/0" class="detail-link" data-no-tooltip aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <h1 class="signature" translate="no">ans104_no_data_item_test()</h1>

      <a href="https://github.com/permaweb/HyperBEAM/blob/v0.0.1/src/hb_gateway_client.erl#L285" class="icon-action" rel="help" aria-label="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
     </a>


  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="data/2">

  <div class="detail-header">
    <a href="#data/2" class="detail-link" data-no-tooltip aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <h1 class="signature" translate="no">data(ID, Opts)</h1>

      <a href="https://github.com/permaweb/HyperBEAM/blob/v0.0.1/src/hb_gateway_client.erl#L88" class="icon-action" rel="help" aria-label="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
     </a>


  </div>

  <section class="docstring">

<p>Get the data associated with a transaction by its ID, using the node's
Arweave <code class="inline">gateway</code> peers. The item is expected to be available in its 
unmodified (by caches or other proxies) form at the following location:</p><pre><code class="makeup erlang" translate="no"><span class="w">  </span><span class="nc">https</span><span class="p">:</span><span class="o">/</span><span class="o">/</span><span class="err">&amp;</span><span class="ss">lt</span><span class="p">;</span><span class="ss">gateway</span><span class="err">&amp;</span><span class="ss">gt</span><span class="p">;</span><span class="o">/</span><span class="ss">raw</span><span class="o">/</span><span class="err">&amp;</span><span class="ss">lt</span><span class="p">;</span><span class="ss">id</span><span class="err">&amp;</span><span class="ss">gt</span><span class="p">;</span></code></pre><p>where <code class="inline">&amp;lt;id&amp;gt;</code> is the base64-url-encoded transaction ID.</p>
  </section>
</section>
<section class="detail" id="read/2">

  <div class="detail-header">
    <a href="#read/2" class="detail-link" data-no-tooltip aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <h1 class="signature" translate="no">read(ID, Opts)</h1>

      <a href="https://github.com/permaweb/HyperBEAM/blob/v0.0.1/src/hb_gateway_client.erl#L39" class="icon-action" rel="help" aria-label="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
     </a>


  </div>

  <section class="docstring">

<p>Get a data item (including data and tags) by its ID, using the node's
GraphQL peers.
It uses the following GraphQL schema:
type Transaction {
  id: ID!
  anchor: String!
  signature: String!
  recipient: String!
  owner: Owner { address: String! key: String! }!
  fee: Amount!
  quantity: Amount!
  data: MetaData!
  tags: [Tag { name: String! value: String! }!]!
}
type Amount {
  winston: String!
  ar: String!
}</p>
  </section>
</section>
<section class="detail" id="result_to_message/2">

  <div class="detail-header">
    <a href="#result_to_message/2" class="detail-link" data-no-tooltip aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <h1 class="signature" translate="no">result_to_message(Item, Opts)</h1>

      <a href="https://github.com/permaweb/HyperBEAM/blob/v0.0.1/src/hb_gateway_client.erl#L172" class="icon-action" rel="help" aria-label="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
     </a>


  </div>

  <section class="docstring">

<p>Takes a GraphQL item node, matches it with the appropriate data from a
gateway, then returns `{ok, ParsedMsg}'.</p>
  </section>
</section>
<section class="detail" id="scheduler_location/2">

  <div class="detail-header">
    <a href="#scheduler_location/2" class="detail-link" data-no-tooltip aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <h1 class="signature" translate="no">scheduler_location(Address, Opts)</h1>

      <a href="https://github.com/permaweb/HyperBEAM/blob/v0.0.1/src/hb_gateway_client.erl#L113" class="icon-action" rel="help" aria-label="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
     </a>


  </div>

  <section class="docstring">

<p>Find the location of the scheduler based on its ID, through GraphQL.</p>
  </section>
</section>
<section class="detail" id="scheduler_location_test/0">

  <div class="detail-header">
    <a href="#scheduler_location_test/0" class="detail-link" data-no-tooltip aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <h1 class="signature" translate="no">scheduler_location_test()</h1>

      <a href="https://github.com/permaweb/HyperBEAM/blob/v0.0.1/src/hb_gateway_client.erl#L296" class="icon-action" rel="help" aria-label="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
     </a>


  </div>

  <section class="docstring">

<p>Test that we can get the scheduler location.</p>
  </section>
</section>

    </div>
  </section>

    <footer class="footer">
      <p>

          <span class="line">
            <a href="https://hex.pm/packages/hb/0.0.1" class="footer-hex-package">Hex Package</a>

            <a href="https://preview.hex.pm/preview/hb/0.0.1">Hex Preview</a>

          </span>

        <span class="line">
          <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
            Search HexDocs
          </button>

            <a href="hb.epub" title="ePub version">
              Download ePub version
            </a>

        </span>
      </p>

      <p class="built-using">
        Built using
        <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.35.1) for the

          <a href="https://erlang.org" title="Erlang" target="_blank" translate="no">Erlang programming language</a>

      </p>

    </footer>
  </div>
</main>
</div>

  </body>
</html>
